#                                                           MoodTrack

##Twitter Visualization(HeatMap and Sentiment Analysis)

####Παντελεήμων Ιωάννου---ΑΜ: P2012029


##Παραδοτέο 1
####Πρόοδος-Περιγραφή Εργασίας
Η εργασία με την οποία ασχολούμαι αφορά την δημιουργία ενός χάρτη(heat map),ο οποίος θα απεικονίζει με bullets τα tweets με γεωγραφικές πληροφορίες πάνω στον χάρτη.Επιπλέον με την χρήση μιας βιβλιοθήκης,θα απεικονίζει τα tweets με συγκεκριμένο emoticon(χαρούμενο-ουδέτερο-λυπημένο) ανάλογα με το προφίλ του tweet. Π.χ. αν ένα tweet είναι για να ενημερώσει για ενδεχόμενο άσχημο καιρό τότε θα είναι λυπημένο ,αν είναι ουδέτερο ουδέτερο emoticon και αν ένα tweet για ένα χαρούμενο γεγονός χαρούμενο.Τέλος ο χρήστης της εφαρμογής θα έχει την δυνατότητα μέσω search bar να ελέγχει τα tweets για συγκεκριμένου τύπου tweet,όπως αυτά που περιέχουν καιρικές πληροφορίες(λέξη αναζήτησης wind,ή οτιδήποτε άλλο),με την βοήθεια του search bar.

##Παραδοτέο 2

####Τεχνικά Χαρακτηστικά Εργασίας:

Ο πηγαίος κώδικας,από τον οποίο εμπνεύστηκα τον τρόπο λειτουργίας της εφαρμογής μου είναι: https://github.com/tomsoft1/TweetOMap

####Αλλαγές από τον κώδικα που παραδειγματίστηκα:

1)Αλλαγή του module που συνδέεται στο twitter app stream(tweet.js)

2)Αλλαγή χάρτη google maps και ειδικό customization(με αρχεία τηε javascript).

3)Αλλαγή της βιβίοθήλης leaflet η οποία δεν ταιριάζει στο data rate του twitter app stream.

4)Προσθήκη βιβλιοθηκών angular για την απεικόνιση των σημείων.

5)Προσθήκη module sentiment analysis και σύδνεση του με τον κώδικα του server.js

####Βιβλιοθήκες και module που χρησιμοποίησα για την εργασία

Για την κατασκευή και την σωστή λειτουργία της εφαρμογή,από την μεριά του fronted χρησιμοποίησα,αρκετές βιβλιοθήλες της javascript αλλά και ένα πολύ καλό template από W3School,όπως:

1)W3School--http://www.w3schools.com/bootstrap/bootstrap_theme_band.asp

2)JQuery--http://jquery.com

3)AngularJs--https://angularjs.org

4)Angular(Animate)--https://docs.angularjs.org/guide/animations

5)Socket.io--http://socket.io

6)Sentiment--https://github.com/PantelisIoannou/Mm/tree/master/node_modules/sentiment

####Εκτέλεση κώδικα
1)Λήψη του κώδικα

2)Εγκατάσταση γλώσσας node.js και εγκατάσταση module express για την δυνατότητα δημιουργίας του server έυκολα με την Node.js

Λήψη Node.js--https://nodejs.org

Λήψη Express--http://expressjs.com

3)Σημείωση: Αρκετές φορές όταν προσπαθείς να τρέξεις εργασίες σε Node.js απαιτείται η εγκατάταση των dependecies με την εντολή --npm install,όμως,στην συγκεκριμένη εργασία δεν χρειάζεται αφού τα dependecies περιέχονται στο φάκελο του project.Έτσι μπορούμε να τρέξουμε την εργασία μετά από πολύ καιρό χωρίς να χρειάζεται να επέμβουμε και να πειράξουμε τον κώδικα,για να ανανεώσουμε το project.Αυτό συμβαίνει αρκετές φορές επειδή εργασίες σε Node.js μαζί με τα επιμέρους modules αλλάζουνε τακτικά.

![Image](https://github.com/PantelisIoannou/images/blob/master/ThesisBefore.PNG)


##Παραδοτέο 3
###(Αναφορά)
Το προγραμματιστικό κομμάτι της εργασίας χωρίζεται σε δυο κύρια κομμάτια.Το πρώτο αφορά το backend της εφαρμογής με server.js και το fronted με το φάκελο client αλλά και το index.html.
Όσων αφορά το server.js χρησιμοποεί κάποια συγκεκριμένα modules έτσι ώστε να καταφέρει να συνδεθεί με την ροή του twitter,να δημιουργήσει τον server και να λάβει τα δεδομένα,από τα app stream,εξετάζοντας ταυτόχρονα πόσα tweets περιέχουν γεωγραφικές πληροφορίες.
Από την άλλη για να καταφέρουν τα δεδομένα να προβληθούν στον browser(πάνω στο χάρτη),ο server ανοίγει ένα socket με την βοήθεια μιας βιβλιοθήκης για να καταφέρει να πάρει τα δεδομένα από τον server.

Η εφαρμογή αποκτάει πρόσβαση στα δεδομένα του Twitter μέσω του Twitter Api Stream και αφού o χρήστης έχει εισάγει τους μοναδικούς κωδικούς που έχει εκδώσει από το Twitter App Management(Consumer Key,Consumer Secret,Acess Token,Acess Token Secret).

Για την εργασία μου παραδειγματίστηκα,από μια εφαρμογή ανοικτού κώδικα στο github.Ονομάζεται TweetOMap και μπορεί να βρεθεί στην διεύθυνση: https://github.com/tomsoft1/TweetOMap.

Οι βασικές διαφορές με την δικιά μου online εφαρμογή εντοπίζονται στην αλλαγή του χάρτη και ορισμένων βιβλιοθηκών Javascript,μετά από εκτενή αναζήτηση στο διαδίκτυο.Η εφαρμογή από την οποία παραδειγματίστηκα στο github προσπαθεί να απεικονίσει ένα χάρτη heatmap,ενώ η δικιά μου και να απεικονίσει τον χάρτη tweets με χρήση emoticons(θετικό,ουδέτερο,αρνητικό) αλλά και να κάνει ένα παράλληλο έλεγχο,έτσι ώστε να απεικονίσει tweets με βάση συγκεκριμένη λέξη(αναζήτση από τον χρήστη όπως weather).
Ο βασικός προβληματισμός μου,ο οποίος με έκανε να αλλάξω τους χάρτες και την βιβλιοθήκη(leaflet),ήταν ότι τα tweets,μετά από ένα χρονικό διάστημα εξασθενούσαν,με αποτέλεσμα να μην αποτυπώνεται ένας σωστός χάρτης.Και αυτό επειδή,οι χάρτες λογικά λειτουργούν με μεγαλύτερο data rate,από τα tweets που έχει πρόσβαση μια εφαρμογή,εξαιτίας του Twitter Api Rate Limits.

###(Λειτουργικότητα Εφαρμογής)
Σε αυτήν την ενότητα θα εξηγήσουμε την λειτουργία της εφαρμογής.Ας υποθέσουμε ότι ένας χρήστης θέλει να χρησιμοποιήσει την εφαρμογή.Αφού την εγκαταστήσει και ανοίξει τον broswer στην αρχική οθόνη,τότε θα δεί τα tweets σε real-time να προβάλλονται πάνω στον χάρτη,με την χρήστη emoticons.Αν θέλει να αναζητήσει ένα συγκεκριμένο tweet,τότε μπορεί εύκολα με την χρήστη του search bar,πάνω δεξιά στην οθόνη.Ο χάρτης θα ανανεωθεί και θα προβληθούν μόνο tweets,με βάση την λέξη.Αν ο χρήστης επιθυμεί να μάθει κάποιες πληροφορίες γιατί την εφαρμογή μπορεί εύκολα να περιηγηθεί(INFO) και να δεί πληροφορίες της εφαρμογής.



![Image](https://github.com/PantelisIoannou/images/blob/master/Thesis1.png)
![Image](https://github.com/PantelisIoannou/images/blob/master/Thesis3.PNG)
![Image](https://github.com/PantelisIoannou/images/blob/master/Thesis2.png)


##Τελική Αναφορά

**Σύνοψη**

Η διαδικτυακή εφαρμογή MoodTrack εκμεταλλεύεται τα δεδομένα-μηνύματα που παρέχει δωρεάν η εφαρμογή(API) του Twitter και τα αξιοποιεί προβάλλοντας τα σε ένα ειδικά τροποποιημένο χάρτη.Ο χρήστης μπορεί εύκολα να χρησιμοποιήσει την εφαρμογή και να παρακολουθήσει ένα χάρτη με ζωντανά tweets από την εφαρμογή Twitter,όπου προβάλλονται με την χρήση ενός emoticon(θετικό, ουδέτερο, αρνητικό).

**Εισαγωγή**

Σκοπός της συγκεκριμένης εργασίας είναι η ανάπτυξη μιας διαδραστικής εφαρμογής που συλλέγει και επεξεργάζεται δεδομένα σε πραγματικό χρόνο, χρησιμοποιώντας τις διεπαφές προγραμματισμού εφαρμογών(API) από ιστοσελίδες κοινωνικής δικτύωση. Επίσης συμφωνήθηκε η προβολή των δεδομένων σε χάρτη έτσι ώστε ο χρήστης της εφαρμογής να μπορεί εύκολα να οπτικοποιεί τα δεδομένα.Τέλος, η ανάπτυξη του MoodTrack βασίστηκε σε ήδη υπάρχον κώδικα ο οποίος βρίσκεται στο Github (https://github.com/tomsoft1/TweetOMap).

Το MoodTrack δίνει την δυνατότητα στον χρήστη να παρακολουθήσει ζωντανά tweets,που αποστέλλουν οι χρήστες σε πραγματικό χρόνο,να δεί το περιεχόμενο τους αλλά και τα προβάλλει με την χρήση emoticon,δηλαδή φάτσα θετική,ουδέτερη ή αρνητική.Επιπλέον δίνει την επιλογή στον χρήστη μέσω συγκεκριμένου keyword να προβάλλονται μόνο τα Tweets,που περιέχουν την συγκεκριμένη λέξη. 

**Επιλογή εργαλείων**

Η συγκεκριμένη εφαρμογή λειτουργεί σε ζωντανό χρόνο,οπότε το βασικό εργαλείο που χρησιμοποιήθηκε ήταν η γλώσσα Node.js για το back-end κομμάτι,δηλαδή τον server.Η πειλογή αυτής της γλώσσσας έγινε επειδή οι περισσότερες εφαρμογές για το Twitter,έχουν αναπτυχθεί με αυτήν την γλώσσα.Για την κατασκευή του front-end κομματιού,χρησιμοποιήθηκαν βασικές γλώσσσες,όπως HTML,CSS,JavaScript ενώ σημαντικό ρόλο έχουν εργαλεία όπως JQuery,AngularJS,Angular(Animate).Επιπλέον λόγω της χρήσης της γλώσσας Node.js απαιτείται η χρήση κάποιων συγκεκριμένων modules εργαλείων,όπως το socket.io,το οποίο χρησιμοποείται για την επικοινωνία του backend με το fronted,το module express,το οποίο χρησιμοποιείται για την εύκολη κατασκευή του server,το module twit,το οποίο χρησιμοποιείται για την επικοινωνία του server με την εφαρμογή Twit και το σημαντικότερο module sentiment,το οποίο χρησιμοποιείται γα την ανάλυση του περιεχομένου των tweets.

**Διαδικασία ανάπτυξης**

Η σύλληψη της ιδέας,για την κατασκευή της εφαρμογής,έγινε από την διαδυκτιακή πλατφόρμα,FluTrack.Έτσι μετά από πολλή αναζήτηση στο διαδίκτυο εφαρμογών με την ίδια φιλοσοφία λειτουργίας,αποφασίστηκε το χτίσιμο της εφαρμογής με την γλώσσα Node.js.Αρχικά για την διαδικασία ανάπτυξης της,προσπάθησα να καταλάβω το τρόπο λειτουργίας της,των πολλών modules,που την απαρτίζουν καθώς τον τρόπο που επικοινωνούν.Η εφαρμογή από την οποία παραδειγματίστηκα,μπορεί να βρεθεί στην παρακάτω διεύθυνση:https://github.com/tomsoft1/TweetOMap
Μετά την κατανόηση λειτουργίας της,αποφασίστηκε να γίνουν κάποιες αλλαγές,όσων αφορά τον χάρτη,τις βιβλιοθήκες που αλληλεπιδρούν στο fronted κομμάτι της εφαρμογής και κάποιων modules.Αυτό που θελω να σημειώσω ήταν,ότι οι αλλαγές με οδήγησαν στην κατασκευή,της εφαρμογής MoodTrack και της λειτουργκότητας της,καθώς αρχικά ήθελα να κατασευάσω ένα απλό Heatmap,χάρτη.Όμως,στη συνέχεια,κατέληξα στην κατασκευή ενός πρωτότυπου heatmap χάρτη αλλά και της χρήσης sentiment analysis.

Μετά,την πρώτη επιτυχή,εκτέλεση της,από την γραμμή εντολών,τα πρώτα tweets,φάνηκαν πάνω σε ένα πολύ απλό χάρτη.Αυτό ήταν και το σημαντικότερο βήμα για την κατασκευή της.Αμέσως μετά,προσπάθησα να αλλάξω τον χάρτη,και να τον τροποιήσω έτσι ώστε να μην προβάλλει άχρηστες πληροφορίες και πολλές λεπτομέρειες.Στη συνέχεια,προσπάθησα να βρώ ή να κατασκευάσω ένα,πολύ καλό theme(HTML,CSS) για να εισάγω το χάρτη και την περιγραφή της εφαρμογής.Κατέληξα,στο συγκεκριμένο θέμα και το τροποποίησα για την εφαρμογή μου:
http://www.w3schools.com/bootstrap/bootstrap_theme_band.asp

Τέλος,αμέσως μετά την επιτυχή ενσωμάτωση του χάρτη,στην ιστοσελίδα,ενσωματώθηκαν κατάλληλες βιβλιοθήκες της JavaScript,για την σωστή λειτουργία της εφαρμογής.




**Αναλυτική περιγραφή**

Με την είσοδο στην αρχική σελίδα της εφαρμογής MoodTrack,o χρήστης βλέπει έναν παγκόσμιο χάρτη της Google,ειδικά φτιαγμένο έτσι ώστε να μην προβάλλονται άχρηστες πληροφορίες και πολλές λεπτομέρειες.Η ροή των tweets,έχει ήδη ξεκινήσει και ο χρήστης μπορεί να τα δεί,καμουφλαρισμένα αρχικά με emoticons.Αν το επιθυμεί κλικάροντας οποιοδήποτε μπορεί να δεί τις πληροφορίες του.Αν το επιθυμεί ψηλά δεξιά στην οθόνη μπορεί να εισάγει κάποιο keyword για να αναζητήσει συγκεκριμένα tweets.Τέλος,κλικάροντας ψηλά αριστερά την κατηγορία INFO μπορεί να δεί πληροφορίες της εφαρμογής.

**Διάγραμμα λειτουργίας**

![Image](https://github.com/courses-ionio/mm/blob/master/projects_2016/P2012029/Flow%20Chart.PNG)

**Μελλοντική δουλειά**

Η μελλοντική δουλειά αφορά ως επί το πλείστον,την εγκατάσταση της συγκεκριμένης εφαρμογής,σε κάποιο online server,διαδικτυακά.Η συγκεκριμένη προσπάθεια είναι αρκετά δύσκολη,καθώς η γλώσσα που έχει επιλεγεί Node.js,λειτουργεί μέσω ορισμένων modules.Ως εκ τούτου,οι περισσότερες διαδικτυακές πλατφόρμες( που υπάρχουν για την φιλοξενία τέτοιων εφαρμογών,μαζί με την εφαρμογή εγκαθιστούν αυτόματα και τα συγκεκριμένα modules,με όχι πολύ μεγάλη επιτυχία κάθε φορά καθώς οι νεώτερες εφαρμογές δεν λειτουργούν με την εφαρμογή.Η δεύτερη προσάθεια εγκατάστασης στοχεύει στην φιλοξενία της εφαρμογής σε πλατφόρμα που δεν κάνει αυτοματοποιημένη δουλειά( Digital Ocean ).Όμως η έλλειψη αυτοματοποίησης,κάνει πιο δύσκολη την δουλειά για τον προγραμματιστή,καθώς για την σωστή λειτουργία της,απαιτείται η κατασκευή δυο server,με την χρήση reverse proxy.Επομένως ως μελλοντική δουλειά,είναι η φιλοξενά της εφαρμογής στο Digital Ocean.

**Συμπεράσματα**

Το πιο δύσκολο κομμάτι της εφαρμογής ήταν,η προσπάθεια κατανόησης του τρόπου λειτουργείας Node.js,καθώς χρησιμοποείται και για τον server αλλά και για το fronted κομμάτι της εφαρμογής.Οι περισσότερες εφαρμογές που προσπάθησα να παραδειγματιστώ από το Github δεν λειτουργούσαν λόγω της περίπλοκης εγκατάτασης που πρέπει να κάνει ένας χρήστης αλλά και λόγω τον συχνών αναβαθμίσεων που έχει η συγκεκριμένη γλώσσα,απαιτώντας την αλλαγή ορισμένων σημείου του κώδικα συνεχώς.Από την άλλη η εφαρμογή MoodTrack έχει επιλύσει το συγκεκριμένο πρόβλημα καθώς τα module που απαιτούνται για την λειτουργία της,είναι ήδη ενσωματωμένα και έτσι ο υποψήφιος χρήστης που θέλει να εγκαταστήσει την εφαρμογή δεν χρειάζεται να κουραστεί πολύ.

### [Πηγαίος Κώδικας](https://github.com/PantelisIoannou/Mm)

###[Βίντεο Εφαρμογής](https://www.youtube.com/watch?v=ZY9A84neY_s&feature=youtu.be)



